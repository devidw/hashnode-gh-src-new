---
title: Dauerhafte eBay Kleinanzeigen Anzeigen durch automatische Verl√§ngerung
description: Wie du deine Anzeigen auf eBay Kleinanzeigen unendlich lange online beh√§lst und nie wieder eine deiner Anzeigen verl√§ngern musst.
lang: de
slug: ebay-kleinanzeigen-automatische-anzeigen-verlaengerung
date: 2021-06-13
lastmod: 2021-06-13
schemas: [BlogPosting]
---
:toc:

Deine Anzeigen auf eBay Kleinanzeigen sind regul√§r 60 Tage online und verschwinden danach komplett von der Plattform. Das ist bei Kleinanzeigen unantastbares Gesetz, die einzige M√∂glichkeit die die die Betreiber hier bieten, deine Anzeigen √ºber die 60 Tage hinaus online zu behalten, ist die Verl√§ngerung. Diese kann grunds√§tzlich √ºber zwei unterschiedliche Wege erfolgen.

1. √úber den _‚ÄûVerl√§ngerungs-Button‚Äú_ unter `Meins > Anzeigen` bei der jeweiligen Anzeige innerhalb der Web-Anwendung
2. oder den _‚ÄûVerl√§ngerungs-Link‚Äú_, den du eine Woche vor Ablauf deiner Anzeige via Mail erh√§lst

image::ad.png[Verl√§ngerungs-Button]

// image::mail.png[Verl√§ngerungs-Mail, width=50%]

M√∂chtest du den l√§stigen Prozess der manuellen Anzeigen-Verl√§ngerung √ºber einen der beiden beschriebenen Wege √ºbergehen, aber gleichzeitig trotzdem immer deine Anzeigen online haben, m√ºssen wir darauf zugreifen, und diese Interaktionen programmtechnisch ausl√∂sen.


== Automation

Ich habe mich dazu entschieden √ºber den zweiten Weg zu automatisieren, denn hier gibt eBay Kleinanzeigen bereits den Ausl√∂ser, wann eine Verl√§ngerung m√∂glich ist, und wir m√ºssen uns in dem Moment nicht mehr darum k√ºmmern.

Konkret bedeutet dies, dass wir unseren Posteingang auf das Eintreffen von Verl√§ngerungs-Mails √ºberwachen m√ºssen (Ausl√∂ser), und sobald diese eintreffen, eine bestimmte Aktion in Gang setzen, die

1. den Verl√§ngerungs-Link findet
2. und diesen aufruft und dadurch die Anzeige verl√§ngert.


=== Eintreffende Mails identifizieren
Damit wir nicht jede eintreffende E-Mail verarbeiten, sonder eben nur die, die wir f√ºr unser Vorhaben auch gebrauchen k√∂nnen, erstellen wir ein Filter im Mail-Client, der die Erkennungsarbeit dann f√ºr uns erledigt.

N√ºtzliche Parameter sind hier:

|===
| Betreff  | `Deine Anzeige l√§uft in einer Woche aus`
| Absender | `noreply@ebay-kleinanzeigen.de`
|===

Aus Sicherheitsgr√ºnden, wollen wir unser Programm, welches im Folgenden dann den Link findet und √∂ffnet, nicht auf unseren Posteingang zugreifen lassen, deshalb ist es an dieser Stelle durchaus sinnvoll, wenn auch nicht zwingend erforderlich, die vom Filter erkannten Mails an eine weitere speziell daf√ºr eingerichtete E-Mail-Adresse weiterzuleiten, dessen Posteingang wir dann bedenken- und gefahrenlos auslesen k√∂nnen.


=== Links in Mails finden
So, die Mail liegt vor. Jetzt gehts an den Speck, denn jetzt holen wir uns den Link, √ºber dessen Aufruf wir dann letztendlich die Verl√§ngerung ausl√∂sen k√∂nnen.
Schauen wir uns also einmal an, was wir suchen:

[source]
----
https://www.ebay-kleinanzeigen.de/m-anzeige-verlaengern-mail.html?adId=1796188914&uuid=9a18zav1-81c9-08d9-9a37-9hf832805acf&utm_source=email&utm_medium=system_email&utm_campaign=email-ExtendAd&utm_content=Button-Extend
----

==== Tracking
Die letzten vier Query-Parameter dienen als Tracking-Referenz und berichten eBay Kleinanzeigen, dass wir eine Verl√§ngerung mit Herkunft aus der E-Mail vornehmen (`utm_source`, `utm_medium`, `utm_campaign`), und zwar √ºber den gezeigten Verl√§ngerungs-Button in der Mail (`utm_content`).

Diese Parameter sind f√ºr uns also unrelevant, da f√ºr die volle Funktionalit√§t der Verl√§ngerung √ºberhaupt nicht notwendig (dient eBay schlie√ülich ausschlie√ülich zur Statistikbildung und damit verbundener Analyse).

==== Anzeigen-Id
Interessant und notwendig ist hingegen die Anzeigen-Identifikation `adId` (taucht auf Kleinanzeigen auch schonmal unter der Bezeichnung _Anzeigennr._ auf), welche Auskunft dar√ºber gibt, welche Anzeige verl√§ngert werden soll.

Welche Anzeige hinter einer solchen Nummer steckt, haben wir auch schnell herausgefunden, in dem wir in Suche nach der Anzeige mit der gegebeneen Nummer suchen oder in der Adresszeile des Browsers `https://www.ebay-kleinanzeigen.de/s-anzeige/<adId>` (wobei `<adId>` die Anzeigennummer ist) eingeben und aufrufen.

==== Benutzer-Id
Neben der Anzeigennummer ist ebenso die `uuid` (wahrscheinlich _unique user identification_) unumg√§nglich zur Verl√§ngerung, da keine Anmeldung erforderlich ist, muss schlie√ülich irgendwie sichergestellt werden, dass nicht jeder, der sich die √∂ffentliche Anzeigennr. schnappt, auch automatisch dazu in der Lage ist, die entsprechende Anzeige zu verl√§ngern, diese Verifizierung, dass auch wirklich nur der Inhaber mit seiner eindeutigen Identifikation berechtigt ist, die Verl√§ngerung seiner Anzeigen in die Weg zu leiten, erfolgt also √ºber die `uuid`.

==== Findung
Jetzt wissen wir so ziemlich genau, welche sogenannten GET-Parameter wir ben√∂tigen, um unsere Anzeigen ganz automatisch verl√§ngern zu k√∂nnen. Programmtechnisch muss hier jetzt blo√ü noch eine Suche im HTML des E-Mail K√∂rpers stattfinden, die zum Beispiel mit Hilfe von regul√§ren Ausdr√ºcken, die gesuchten Stellen findet und die Treffer zur√ºckgibt.

Konkret k√∂nnen die `regex` (engl. _regular expressions_) so ausschauen:

|===
| `adId` | `adId=([0-9]+)&`
| `uuid` | `uuid=([0-9a-z-]+)&`
|===


=== Links √∂ffnen & Anzeigen verl√§ngern
War die Suche nach den Parametern erfolgreich und wir haben R√ºckgabewerte f√ºr beide Parameter, m√ºssen wir lediglich noch die finale Abfrage-URL zusammensetzen:

[source]
----
https://www.ebay-kleinanzeigen.de/m-anzeige-verlaengern-mail.html?adId=<adId>&uuid=<uuid>
----

und diese durch ein GET-Request aufrufen, was unsere Anzeige dann v√∂llig automatisch um weitere 60 Tage verl√§ngert, und diese in `60 - 8 Tagen` wieder automatisch verl√§ngern wird und dann wieder und wieder und wieder ‚Ä¶ üòÑ

== Code
Bist du jetzt auch interessiert daran, dass deine Anzeigen k√ºnftig nie mehr enden werden, und du nie mehr eine Anzeige h√§ndisch verl√§ngern brauchst?

Dann schau doch einfach mal in mein https://github.com/devidwolf/ebay-kleinanzeigen.de-auto-renew-ads[GitHub Repository] herein, wo du eine lauff√§hige Automation findest, du du blo√ü noch in deinem System einrichten brauchst:

[.promo]
https://github.com/devidwolf/ebay-kleinanzeigen.de-auto-renew-ads[Open-source Code √∂ffnen]
